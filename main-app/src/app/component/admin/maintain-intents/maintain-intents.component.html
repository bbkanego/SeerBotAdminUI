<div class="container-fluid" *ngIf="intentsForm">
  <div class="row">
    <div class="col-sm-12"><h1 class="page-header">{{getHeading()}}</h1></div>
  </div>
  <form
    [formGroup]="intentsForm"
    (ngSubmit)="onSubmit($event)"
    #formDir="ngForm"
    novalidate>
    <div class="row">
      <div class="col-sm-12">
        <div class="panel-group" id="accordion">
          <div class="panel panel-default">
            <div class="panel-heading">
              <h4 class="panel-title">
                <a
                  data-toggle="collapse"
                  data-parent="#accordion"
                  href="#collapseOne"
                  (click)="selectEntryType('enterDetails')"
                  ><span class="glyphicon glyphicon-edit"> </span>{{cmsContent.addIntent.enterIntent}}</a>
              </h4>
            </div>
            <div id="collapseOne" class="panel-collapse collapse in">
              <div class="panel-body content padded">
                <div class="row" *ngIf="selectedEntryOption === 'enterDetails'">
                  <div class="col-lg-6 col-sm-12">
                    <app-bk-input #intentTextBox [currentForm]="formDir" label="{{cmsContent.addIntent.intentLabel}}" currentFormControlName="intent"></app-bk-input>
                  </div>
                  <div class="col-lg-6 col-sm-12">
                    <app-bk-input
                      [currentForm]="formDir"
                      #utteranceTextBox
                      label="{{cmsContent.addIntent.utteranceLabel}}"
                      currentFormControlName="utterance"
                    ></app-bk-input>
                  </div>
                  <div class="col-lg-6 col-sm-12">
                    <app-bk-input
                      [currentForm]="formDir"
                      #utteranceTextBox
                      label="{{cmsContent.addIntent.responseLabel}}"
                      currentFormControlName="response"
                    ></app-bk-input>
                  </div>
                  <div class="col-lg-6 col-sm-12">
                    <app-bk-select [currentForm]="formDir"
                    [options]="responseTypes"
                    label="{{cmsContent.addIntent.responseTypeLabel}}"
                    currentFormControlName="responseType"></app-bk-select>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default" *ngIf='currentAction === "add"'>
            <div class="panel-heading">
              <h4 class="panel-title">
                <a
                  data-toggle="collapse"
                  data-parent="#accordion"
                  href="#collapseTwo"
                  (click)="selectEntryType('upload')"
                  ><span class="glyphicon glyphicon-cloud-upload"> </span>{{cmsContent.addIntent.uploadIntents}}</a
                >
              </h4>
            </div>
            <div id="collapseTwo" class="panel-collapse collapse">
              <div class="panel-body content padded">
                <div class="row">
                  <div class="col-lg-6 col-sm-12">
                    <div class="input-group">
                      <label class="input-group-btn">
                        <span class="btn btn-primary">
                          Select File&nbsp;<span class="glyphicon glyphicon-asterisk icon-required"></span><input name="intentsFileUpload" (change)="fileChangeEvent($event)" #intentsFile type="file"
                            style="display: none;">
                        </span>
                      </label>
                      <input type="text" class="form-control" #showFileName readonly>
                    </div>
                    <div *ngIf='fileCount() === 0' class="errorMessage">
                      This is required
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="panel panel-default" *ngIf='currentAction === "add" && currentContext === "custom"'>
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a
                    data-toggle="collapse"
                    data-parent="#accordion"
                    href="#collapse3"
                    (click)="selectEntryType('copy')"
                    ><span class="glyphicon glyphicon-copy"> </span>{{cmsContent.addIntent.copyIntents}}</a
                  >
                </h4>
              </div>
              <div id="collapse3" class="panel-collapse collapse">
                <div class="panel-body content padded">
                  <div class="row">
                    <div class="col-lg-6 col-sm-12">
                      {{cmsContent.addIntent.copyIntentsMsg}}
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
    <div class='row'>
        <div class="col-lg-6 col-sm-12">
            <app-bk-select
              [currentForm]="formDir"
              #selectCategory
              label="{{cmsContent.addIntent.categoryLabel}}"
              currentFormControlName="category"
              [options]="category"></app-bk-select>
          </div>
    </div>
    <div class="row">
      <div style="margin-bottom: 1em" class="col-sm-12">
        <bk-button
          intent="success"
          type="submit"
          label="{{ getCommonResources('saveButton') }}"
        ></bk-button>
        <bk-button
          intent="warning"
          (click)="revert()"
          label="{{ getCommonResources('revertButton') }}"
        ></bk-button>
        <bk-button
          intent="danger"
          (click)="cancel()"
          label="{{ getCommonResources('cancelButton') }}"
          >>
        </bk-button>
      </div>
      <div
        class="col-sm-12"
        [innerHTML]="getCommonResources('requiredIndicator')"
      ></div>
    </div>
  </form>
  <!-- {{intentsForm.value | json}} -->
</div>
